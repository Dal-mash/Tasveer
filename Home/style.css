.root,
*{box-sizing:border-box}
:root{
    --bg:#020202; /* very dark slate */
    --panel:#0b1220;
    --muted:#9aa6b2;
    --accent:#7c3aed; /* violet */
    --glass: rgba(255,255,255,0.04);
    --card:#0f1726;
    --outlines: #058C42;
    --header:#0D2818;
    --text:#16DB65;
}
html,body{height:100%}
body{
    margin:0;
    background:linear-gradient(180deg,var(--bg),#081018 80%);
    color:#e6eef6;
    font-family:Inter, ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
    -webkit-font-smoothing:antialiased;
    -moz-osx-font-smoothing:grayscale;
}

/* + icon from Google Material Symbols */
.material-symbols-outlined {
  color: #058C42;
  font-variation-settings:
  'FILL' 1,
  'wght' 400,
  'GRAD' 0,
  'opsz' 24,
}

.topbar{
    display:flex;
    align-items:center;
    justify-content:space-between;
    padding:15px 28px;
    background:linear-gradient(90deg, var(--header), transparent);
    border-bottom:1px solid rgba(255,255,255,0.03);
    backdrop-filter: blur(6px);
}
.brand h1{margin:0;font-size:20px;letter-spacing:0.4px;color: var(--text);font-family: 'Trebuchet MS', 'Lucida Sans Unicode', 'Lucida Grande', 'Lucida Sans', Arial, sans-serif;}
.brand .tag{color:var(--muted);margin:2px 0 0;font-size:12px}

.controls{display:flex;gap:12px;align-items:center}
.upload-btn{
    display:inline-flex;align-items:center;gap:8px;justify-content: center;
    padding:8px 12px;border-radius:8px;background:var(--bg);
    color:rgb(164, 21, 21);font-weight:600;cursor:pointer;border:3px solid var(--outlines);user-select:none;
    height: 36px;
    width: 100%;
    transition: all 100ms ease-in-out;
}
.upload-btn:hover{
    transform: translate(0,-5px);
    transform: scale(1.1);
}
.upload-btn input{display:none}
.ghost{background:transparent;border:2px solid var(--outlines);color:var(--muted);padding:8px 12px;border-radius:8px;cursor:pointer;
transition: all 200ms ease-in-out;
}
.ghost:hover{
    background-color: var(--outlines);
    color: white;
}
.profile-icon {
  width: 40px;              /* same as Tailwind's w-16 */
  height: 40px;             /* same as Tailwind's h-16 */
  border-radius: 50%;       /* makes it a perfect circle */
  overflow: hidden;         /* hides parts of image outside the circle */
  border: 2px solid #d1d5db; /* similar to Tailwind's border-gray-300 */
  border: none;
  background-color: var(--outlines);
}

.profile-icon img {
  width: 100%;
  height: 100%;
  object-fit: cover;        /* ensures the image fills the circle nicely */
}
.profile-icon img:hover{
    cursor:pointer;
}





.container{max-width:1100px;margin:28px auto;padding:0 20px}
.profile h2{margin:0 0 18px;font-weight:600}

.gallery{
    display:grid;
    grid-template-columns:repeat(auto-fill, minmax(180px, 1fr));
    gap:16px;
    margin-top: 2rem;
}
.gallery .card{
    background:linear-gradient(180deg, rgba(255,255,255,0.02), transparent);
    border-radius:10px;overflow:hidden;border:1px solid rgba(255,255,255,0.03);
    display:flex;align-items:center;justify-content:center;height:180px;position:relative;
}
.gallery img{
    width:100%;height:100%;object-fit:cover;display:block;
}
.gallery .caption{
    position:absolute;left:8px;bottom:8px;padding:6px 8px;background:rgba(0,0,0,0.45);font-size:12px;border-radius:6px;color:var(--muted)
}

@media (max-width:480px){
    .topbar{padding:12px 16px}
    .upload-btn{padding:8px 10px}
    .gallery{gap:10px}
}

/* fallback for existing scripts that add `uploaded-image` */
.uploaded-image{width:100%;height:100%;object-fit:cover;border-radius:6px}

/* Image modal / overlay */
.image-overlay{
    position:fixed;inset:0;display:flex;align-items:center;justify-content:center;
    background:rgba(2,6,10,0.75);backdrop-filter:blur(6px);z-index:1200;
}
.image-modal{
    position:relative;
    /* ensure modal never exceeds viewport (account for padding) */
    max-width: calc(100vw - 64px);
    max-height: calc(100vh - 64px);
    display:flex;align-items:center;justify-content:center;
    padding:12px;border-radius:12px;box-shadow:0 10px 40px rgba(0,0,0,0.6);
    transform-origin:center center;opacity:0;transform:translateY(10px) scale(0.98);
    transition:opacity 220ms ease, transform 220ms cubic-bezier(.2,.9,.2,1);
    overflow:auto; /* allow internal scrolling for very large images */
}
.image-overlay.open .image-modal{opacity:1;transform:translateY(0) scale(1)}
.image-overlay.closing .image-modal{opacity:0;transform:translateY(6px) scale(0.98)}
.image-modal .image-full{
    /* enforce strict viewport-based limits so images never overflow in any browser */
    max-inline-size: calc(100vw - 96px);
    max-block-size: calc(100vh - 96px);
    max-width: calc(100vw - 96px);
    max-height: calc(100vh - 96px);
    width: auto;
    height: auto;
    display:block;border-radius:8px;
    object-fit:contain; /* preserve aspect ratio and fit inside modal */
}

/* scrollable frame inside modal to tightly constrain oversized images */
.image-frame{
    width:100%;height:100%;display:flex;align-items:center;justify-content:center;overflow:auto;
}
.image-frame img{display:block;max-width:100%;max-height:100%;object-fit:contain}

/* If viewport is very small, allow the overlay to scroll so users can pan to see larger content */
.image-overlay{padding:24px;overflow:auto}
.image-controls{
    position:fixed;
    right:18px;
    top:50%;
    transform:translateY(-50%);
    display:flex;
    flex-direction:column;
    gap:10px;
    align-items:center;
    z-index:1300;
    background:rgba(255,255,255,0.02);
    padding:8px;
    border-radius:12px;
    backdrop-filter:blur(4px);
    box-shadow:0 6px 18px rgba(0,0,0,0.45);
}

/* Close button: fixed square */
.image-close{
    width:30px;
    height:30px;
    border-radius:10px;
    border:none;
    display:inline-flex;
    align-items:center;
    justify-content:center;
    cursor:pointer;
    background:rgba(0,0,0,0.06);
    color:#fff;
    font-weight:600;
    font-size:22px;
    padding:0;
}

/* Delete button: size by content (padding respected) */
.image-delete{
    display:inline-flex;
    align-items:center;
    justify-content:center;
    cursor:pointer;
    border-radius:10px;
    width:auto;
    height: 40px;
    border:1px solid rgba(255,255,255,0.06);
    background:rgba(255, 3, 3, 0.7);
    color:var(--muted);
    font-size:13px;
    padding:6px 12px;
}

.image-close:hover{background:rgba(0,0,0,0.6)}
.image-delete:hover{background:rgb(255, 24, 24);}

/* tooltip (native title is present as fallback) */
.image-controls [title]{position:relative}
.image-controls [title]:hover::after{
    content: attr(title);
    position: absolute;right:100%;top:50%;transform:translateY(-50%);margin-right:8px;padding:6px 8px;background:rgba(0,0,0,0.7);color:#fff;border-radius:6px;font-size:12px;white-space:nowrap;z-index:1400;
}

@media (max-width:640px){
    .image-controls{right:8px}
    .image-controls [title]:hover::after{display:none}
}

/* Make the rest of the page inert while modal is open for older browsers fallback.
    Only affect direct children of body so descendants of .image-overlay remain interactive. */
body[aria-modal='true'] > *:not(.image-overlay){pointer-events:none;user-select:none}

/* Inside the overlay: allow the modal and close button to receive pointer events,
   but make the image itself non-interactive so clicks hit the close button only. */
.image-overlay{pointer-events:auto}
.image-overlay .image-modal{pointer-events:auto}
.image-overlay .image-close{pointer-events:auto}
.image-overlay .image-frame{pointer-events:auto}
.image-overlay .image-frame img{pointer-events:none}